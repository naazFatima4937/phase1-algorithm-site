<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Phase-1 Algorithm Tool</title>

<style>
body{
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#e3f2fd,#fce4ec);
    margin:0;
    padding:40px 15px;
}
.container{
    max-width:750px;
    margin:auto;
    background:white;
    padding:30px;
    border-radius:14px;
    box-shadow:0 8px 25px rgba(0,0,0,0.15);
}
h1{text-align:center;margin-top:0}
label{font-weight:bold}
textarea,input,select,button{
    width:100%;
    padding:12px;
    margin-top:6px;
    margin-bottom:18px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:15px;
}
button{
    background:#1976d2;
    color:white;
    border:none;
    font-size:16px;
    cursor:pointer;
}
button:hover{background:#0d47a1}
.result{
    background:#f1f8ff;
    padding:18px;
    border-radius:10px;
    font-size:16px;
}
footer{
    text-align:center;
    margin-top:25px;
    color:#666;
    font-size:13px;
}
</style>

</head>

<body>

<div class="container">
<h1>Phase-1 Algorithm Tool</h1>

<label>Upload CSV File</label> <input type="file" id="csvFile" accept=".csv">

<label>OR Enter Numbers Manually (comma separated)</label>

<textarea id="manualInput" placeholder="Example: 10,4,7,2,15,1"></textarea>

<label>Select Operation</label> <select id="operation">

<option value="merge">Merge Sort</option>
<option value="quick">Quick Sort</option>
<option value="binary">Binary Search</option>
<option value="maxmin">Find Max & Min</option>
</select>

<label>Binary Search Key (only for search)</label> <input type="number" id="key" placeholder="Enter number to search">

<button onclick="processData()">Run Algorithm</button>

<h3>Result</h3>
<div class="result" id="output">Waiting for input...</div>

<footer>Client-side only â€¢ Works on any free hosting</footer>
</div>

<script>
// Merge Sort
function mergeSort(arr){
    if(arr.length<=1) return arr;
    let mid=Math.floor(arr.length/2);
    return merge(mergeSort(arr.slice(0,mid)), mergeSort(arr.slice(mid)));
}
function merge(left,right){
    let res=[];
    while(left.length && right.length){
        res.push(left[0]<right[0]?left.shift():right.shift());
    }
    return res.concat(left,right);
}

// Quick Sort
function quickSort(arr){
    if(arr.length<=1) return arr;
    let pivot=arr[0];
    let left=arr.slice(1).filter(x=>x<=pivot);
    let right=arr.slice(1).filter(x=>x>pivot);
    return [...quickSort(left),pivot,...quickSort(right)];
}

// Binary Search
function binarySearch(arr,key){
    let low=0,high=arr.length-1;
    while(low<=high){
        let mid=Math.floor((low+high)/2);
        if(arr[mid]==key) return mid;
        if(arr[mid]<key) low=mid+1;
        else high=mid-1;
    }
    return -1;
}

// CSV Reader
function readCSV(file,callback){
    let reader=new FileReader();
    reader.onload=function(e){
        let text=e.target.result;
        let nums=text.split(/,|\n/).map(x=>parseFloat(x)).filter(x=>!isNaN(x));
        callback(nums);
    };
    reader.readAsText(file);
}

// Main Logic
function processData(){
    let file=document.getElementById("csvFile").files[0];
    let manual=document.getElementById("manualInput").value;
    let operation=document.getElementById("operation").value;
    let key=parseFloat(document.getElementById("key").value);

    function run(data){
        if(!data.length){
            document.getElementById("output").innerText="No valid numbers found.";
            return;
        }

        let result="";

        if(operation==="merge"){
            result="Merge Sorted: "+mergeSort([...data]).join(", ");
        }
        else if(operation==="quick"){
            result="Quick Sorted: "+quickSort([...data]).join(", ");
        }
        else if(operation==="maxmin"){
            result="Max = "+Math.max(...data)+" | Min = "+Math.min(...data);
        }
        else if(operation==="binary"){
            if(isNaN(key)){
                result="Please enter search key.";
            }else{
                let sorted=[...data].sort((a,b)=>a-b);
                let pos=binarySearch(sorted,key);
                result="Sorted: "+sorted.join(", ")+" | Position: "+pos;
            }
        }

        document.getElementById("output").innerText=result;
    }

    if(file){
        readCSV(file,run);
    }
    else if(manual.trim()!==""){
        let nums=manual.split(",").map(x=>parseFloat(x)).filter(x=>!isNaN(x));
        run(nums);
    }
    else{
        alert("Upload CSV or enter numbers manually!");
    }
}
</script>

</body>
</html>
